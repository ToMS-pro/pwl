<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contoh Tabel dengan Input Manual</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .table-container {
            overflow-x: auto; /* Memungkinkan scroll horizontal */
            margin: 0 10px; /* Memberi jarak di kiri dan kanan */
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid blue; /* Ganti warna border menjadi biru */
        }
        th, td {
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #add8e6; /* Warna latar belakang header biru muda */
        }
        .header {
            margin-bottom: 10px;
        }
        .header span {
            display: inline-block;
            margin-right: 10px;
        }
    </style>
</head>
<body>

    <div class="header">
        <span><strong>KA</strong> : <input type="text" id="ka_input" placeholder="Masukkan KA"></span>
        <span><strong>Rute</strong> : <input type="text" id="rute_input" placeholder="Masukkan Rute"></span>
        <span><strong>Tgl</strong> : <input type="date" id="tanggal_input"></span>
        <span><strong>Format Tgl</strong> : <span id="formatted_date"></span></span>
    </div>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th rowspan="2">NO</th>
                    <th rowspan="2">NAMA STASIUN</th>
                    <th colspan="2">NAIK</th>
                    <th colspan="2">TURUN</th>
                </tr>
                <tr>
                    <th>Kg</th>
                    <th>Koli</th>
                    <th>Kg</th>
                    <th>Koli</th>
                </tr>
            </thead>
            <tbody>
                <!-- Menggunakan loop untuk membuat 39 baris -->
                <script>
                    for (let i = 1; i <= 39; i++) {
                        document.write(`
                            <tr>
                                <td>${i}</td>
                                <td><input type="text" id="stasiun${i}" placeholder="Masukkan Nama Stasiun"></td>
                                <td><input type="number" id="naikKg${i}" value=""></td>
                                <td><input type="number" id="naikKoli${i}" value=""></td>
                                <td><input type="number" id="turunKg${i}" value=""></td>
                                <td><input type="number" id="turunKoli${i}" value=""></td>
                            </tr>
                        `);
                    }
                </script>
                <tr>
                    <td>Total</td>
                    <td></td>
                    <td id="totalNaikKg"></td>
                    <td id="totalNaikKoli"></td>
                    <td id="totalTurunKg"></td>
                    <td id="totalTurunKoli"></td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        function updateTotals() {
            let totalNaikKg = 0;
            let totalNaikKoli = 0;
            let totalTurunKg = 0;
            let totalTurunKoli = 0;

            for (let i = 1; i <= 39; i++) {
                totalNaikKg += parseFloat(document.getElementById(`naikKg${i}`).value) || 0;
                totalNaikKoli += parseFloat(document.getElementById(`naikKoli${i}`).value) || 0;
                totalTurunKg += parseFloat(document.getElementById(`turunKg${i}`).value) || 0;
                totalTurunKoli += parseFloat(document.getElementById(`turunKoli${i}`).value) || 0;
            }

            // Menghitung hasil akhir
            const hasilKg = totalNaikKg - totalTurunKg; // Total Naik Kg dikurangi Total Turun Kg
            const hasilKoli = totalNaikKoli - totalTurunKoli; // Total Naik Koli dikurangi Total Turun Koli

            // Menampilkan total
            document.getElementById('totalNaikKg').textContent = hasilKg; // Hasil Kg
            document.getElementById('totalNaikKoli').textContent = hasilKoli; // Hasil Koli
            document.getElementById('totalTurunKg').textContent = totalTurunKg; // Total Turun Kg
            document.getElementById('totalTurunKoli').textContent = totalTurunKoli; // Total Turun Koli
        }

        // Menambahkan event listener untuk setiap input
        const inputs = document.querySelectorAll('input[type="number"], input[type="text"]');
        inputs.forEach(input => {
            input.addEventListener('input', updateTotals);
        });

        document.getElementById('tanggal_input').addEventListener('change', function() {
            const inputDate = this.value;
            if (inputDate) {
                const dateParts = inputDate.split('-'); // Memisahkan tahun, bulan, tanggal
                const formattedDate = `${dateParts[2]}-${dateParts[1]}-${dateParts[0]}`; // Format DD-MM-YYYY
                document.getElementById('formatted_date').textContent = formattedDate; // Menampilkan format yang sudah diubah
            }
        });
    </script>

</body>
</html>
